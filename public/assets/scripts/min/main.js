/**
        * requestAnimationFrame shim
        * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
        * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
        * requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel
        * MIT license
        */

var __extends;define("core/logger",["require","exports"],function(){var n;return function(n){function t(){var n,t=[];for(n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];r.push(t),window.console&&window.console.log&&a&&window.console.log(Array.prototype.slice.call(t))}function o(){return r}function i(){for(var n in r)r.hasOwnProperty(n)&&window.console.log(r[n])}var e,r=[],a=$(document.body).attr("data-debug")?"true"===$(document.body).attr("data-debug")?!0:!1:!1,s=0;n.log=t,n.getHistory=o,n.printHistory=i,function(n){function o(){return l?(ga?(t("Analytics : init : UA-58463-9"),ga("create","UA-58463-9","auto"),ga("send","pageview"),a()):t("Analytics : init - no ga!"),void(f=!0)):void t("Analytics : IS_ENABLED is false, not init'ing")}function i(n,i,e,r){if(l){if(f||o(),t("Analytics : track",n,i,e,r),"boolean"==typeof r&&r===!0&&e){var a=encodeURIComponent(n+i+e),s=d[a];d.hasOwnProperty(a)?(s=parseInt(s,10)+1,r=s):(d[a]=1,r=1)}t("Analytics : track variables",n,i,e,r),ga&&n&&i&&(e&&r?ga("send","event",n,i,e,r):e&&!r?ga("send","event",n,i,e):ga("send","event",n,i))}}function e(){l&&(f||o(),ga&&(t("Analytics : pageview",window.location),ga("send","pageview")))}function r(){return a()}function a(){l&&$("[data-analytics]").not("[data-analytics-count]").on("click",c).attr("data-analytics-count",0)}function c(n){var o=$(n.currentTarget),e=parseInt(o.attr("data-analytics-count"),10),r=(o.attr("data-analytics")||"").replace(/\n/g," ").split("|"),a=!1;switch(e+=1,r.length){default:t("Analytics : Fragment click has less than two or more than four tracking parameters",n.currentTarget,r),a=!0;break;case 2:i(r[0],r[1]);break;case 3:i(r[0],r[1],r[2]);break;case 4:i(r[0],r[1],r[2],e)}a||o.attr("data-analytics-count",e)}function u(n,t,o,e){return s+=1,i("dev","error",t+o+(o?" - "+o+(e?" - "+e:""):""),s),!1}var d={},l=("true"===$(document.body).attr("data-enable-analytics")?!0:!1)||!1,f=!1;n.init=o,n.track=i,n.pageview=e,n.refresh=r,n.bindClickFragments=a,n.onFragmentClick=c,n.logError=u}(n.Analytics||(n.Analytics={})),e=n.Analytics,window.debug_log=window.debug_log||{printHistory:i,historyLog:r,force:function(n){a=n}},window.onerror=function(n,t,o,i,r){return e.logError(n,t,o,i,r)},t("Logger : Constructor")}(n||(n={})),n}),define("core/windowController",["require","exports","core/logger"],function(n,t,o){var i;return function(n){function t(){m("WindowController : init"),i(),e(),v=b=!0,r()}function i(){p.on("scroll",function(){v=!0}),p[0].onorientationchange=function(){b=!0,v=!0},p[0].orientationchange=function(){b=!0,v=!0},p.on("resize",function(){"ontouchstart"in window&&v?(v=!0,b=!0):(b=!0,v=!0)})}function e(){var n,t=0,o=["ms","moz","webkit","o"];for(n=0;n<o.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[o[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[n]+"CancelAnimationFrame"]||window[o[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var o=+new Date,i=Math.max(0,16-(o-t)),e=window.setTimeout(function(){n(o+i)},i);return t=o+i,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}function r(){a(),window.requestAnimationFrame(r)}function a(n){if(n||b||v){if(A=null,N=null,C=p.scrollTop(),E=p.width(),S=p.height(),I=E*S,!n&&g===C&&y===I)return void(v=b=!1);for(var t=w.length;t>0;--t)A=w[t-1],N=A.type,"scroll"===N&&(n||v&&C!==g)?A.fn.apply(A.context,[C,E,S]):"resize"===N&&(n||b&&I!==y)&&A.fn.apply(A.context,[C,E,S]);(n||g!==C)&&(g=C),(n||y!==I)&&(y=I),v=b=!1}}function s(n,t,o){var i=(+new Date+99999*Math.random()).toFixed(0);return m("WindowController : bind",n,o,i),w.push({type:n,fn:t,context:o,id:i}),f&&clearTimeout(f),f=setTimeout(function(){a(!0)},h),i}function c(n,t,o){return s(n,t,o)}function u(n){var t,o;if("undefined"!=typeof n){for(o=w.length;o>0;--o)if(t=w[o-1],t.id===n)return w.splice(o-1,1),m("WindowController : unbind",!0),!0;return m("WindowController : unbind",!1,n,w),!1}}function d(n){return u(n)}function l(n){switch(m("WindowController : trigger",n),n){case"resize":b=!0;break;case"scroll":v=!0}a(!0)}var f,m=o.log,p=$(window),w=[],h=100,g=-1,y=-1,v=!1,b=!1,A=null,C=null,E=null,S=null,N=null,I=null;n.init=t,n.bind=s,n.on=c,n.unbind=u,n.off=d,n.trigger=l,m("WindowController : Constructor")}(i||(i={})),i}),define("core/walt",["require","exports","core/logger"],function(n,t,o){var i,e;!function(n){var t,o;!function(n){function t(n,t,o){var i,e,r=parseFloat(o);return 1/0===r||-1>=r||isNaN(r)?-1:(i=parseFloat(n),n.indexOf("ms")>0||n.indexOf("ms")<0&&n.indexOf("s")<0||n.indexOf("s")>0&&(i*=1e3),e=parseFloat(t),t.indexOf("ms")>0||t.indexOf("ms")<0&&t.indexOf("s")<0||t.indexOf("s")>0&&(e*=1e3),parseInt(i,10)+parseInt(e,10))}n.realAnimTime=t}(n.Math||(n.Math={})),t=n.Math,function(n){function t(){var n,t,o=document.body||document.documentElement,i=o.style,e="animation";if("string"==typeof i[e])return!0;for(n=["moz","Moz","webkit","Webkit","ms","Ms"],e=e.charAt(0).toUpperCase()+e.substr(1),t=0;t<n.length;t++)if("string"==typeof i[n[t]+e])return!0;return!1}function o(n,t){var o=i("delay",n.delay?n.delay:t.delay),r=i("duration",n.duration?n.duration:t.duration),a=i("direction",n.direction?n.direction:t.direction),s=i("iteration-count",n.count?n.count:t.count),c=i("fill-mode",n.fill?n.fill:t.fill),u=i("timing-function",n.timing?n.timing:t.timing);return e(o,r,a,s,c,u)}function i(n,t){var o,i,e;for("fill-mode"!==n&&"direction"!==n&&"timing-function"!==n&&t.indexOf("s")<0&&t.indexOf("ms")<0&&(t+="ms"),o={},i=["moz","webkit","ms"],o["animation-"+n]=t,e=0;e<i.length;e++)o["-"+i[e]+"-animation-"+n]=t;return o}function e(){var n,t,o,i,e,r=[];for(n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];for(t={},i=0;i<r.length;i++){o=r[i];for(e in o)o.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=o[e])}return t}n.supportsAnimations=t,n.createCSS=o}(n.CSS||(n.CSS={})),o=n.CSS}(i||(i={})),function(n){function t(){return u}function e(t){var o,i,e,a;return t.hasOwnProperty("el")?(o=t.el instanceof $?t.el:$(t.el),t.hasOwnProperty("animation")&&""!==t.animation?(i=c.CSS.createCSS(t,n.DEFAULTS),t.hasOwnProperty("onBefore")&&t.onBefore(o),e=d.hasClass("no-focus"),navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<=-1&&(e=!1),!u||e?t.hasOwnProperty("fallback")?t.fallback(o,function(){return r(o,t)}):(o.addClass(e?"walt-animate "+t.animation:"walt-animate"),r(o,t)):o.on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){return r(o,t)}).css(i).addClass("walt-animate "+t.animation),void(t.hasOwnProperty("useTimeout")&&t.useTimeout===!0&&(a=c.Math.realAnimTime(t.duration||n.DEFAULTS.duration,t.delay||n.DEFAULTS.delay,t.count||n.DEFAULTS.count),a>=0&&window.setTimeout(function(){return r(o,t)},1.15*a)))):void console.warn("Walt - no Animation provided in animate")):void console.warn("Walt - no El provided in animate")}function r(n,t){n.off("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd"),n.hasClass("walt-animate")&&(n.removeClass("walt-animate").removeClass(t.animation),t.hasOwnProperty("onComplete")&&t.onComplete(n))}function a(){function n(n){var i="no-focus",e="in-focus",r={focus:i,focusin:i,pageshow:i,blur:e,focusout:e,pagehide:e};n=n||window.event,n.type in r?(t.removeClass(i+" "+e),t.addClass(r[n.type])):(t.removeClass(i+" "+e),t.addClass(this[o]?i:e))}var t,o;"ontouchstart"in window||(t=$(document.body),o="hidden",o in document?document.addEventListener("visibilitychange",n):(o="mozHidden")in document?document.addEventListener("mozvisibilitychange",n):(o="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",n):(o="msHidden")in document?document.addEventListener("msvisibilitychange",n):"onfocusin"in document?document.onfocusin=document.onfocusout=n:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=n)}var s=o.log,c=i,u=c.CSS.supportsAnimations(),d=$(document.body);n.DEFAULTS={el:$(document.body||document.documentElement),animation:"",delay:"0s",duration:"1s",count:"0",fill:"both",direction:"normal",timing:"ease",useTimeout:!1},n.supportsAnimations=t,n.animate=e,a(),s("Walt : Constructor")}(t.Walt||(t.Walt={})),e=t.Walt}),__extends=this.__extends||function(n,t){function o(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);o.prototype=t.prototype,n.prototype=new o},define("core/base",["require","exports","core/logger","core/windowController","core/walt"],function(n,t,o,i,e){var r,a,s=function(){function n(){this.log=o.log,this.Analytics=o.Analytics}return n}();t.Loggable=s,r=function(n){function t(t){n.call(this),this.$html=$("html"),this.$window=$(window),this.$body=$(document.body),this.WindowController=i,this.WINDOW_BINDINGS=[],this.Walt=e.Walt,t&&t.length&&(this.$root=t)}return __extends(t,n),t.prototype.unbindWindow=function(){for(var n=this.WINDOW_BINDINGS.length;n>0;--n)this.WindowController.unbind(this.WINDOW_BINDINGS.pop())},t.prototype.bindWindowEvent=function(n,t){this.WINDOW_BINDINGS.push(this.WindowController.on(n,t,this))},t.prototype.dispose=function(){this.unbindWindow()},t}(s),t.SiteObject=r,a=function(n){function t(t){n.call(this,t),this.EVENT_BINDINGS={}}return __extends(t,n),t.prototype.bind=function(n,t){this.EVENT_BINDINGS.hasOwnProperty(n)?this.EVENT_BINDINGS[n].push(t):this.EVENT_BINDINGS[n]=[t]},t.prototype.on=function(n,t){return this.bind(n,t)},t.prototype.onEvents=function(n,t){if(this.EVENT_BINDINGS.hasOwnProperty(n))for(var o=0;o<this.EVENT_BINDINGS[n].length;o++)this.EVENT_BINDINGS[n][o](t)},t.prototype.emit=function(n,t){return this.onEvents(n,t)},t.prototype.dispose=function(){n.prototype.dispose.call(this),this&&this.$root&&(this.$root.find("*").unbind(),this.$root.unbind())},t}(r),t.Widget=a}),define("core/factory",["require","exports","core/logger"],function(n,t,o){!function(n){function t(n){c("Factory : init"),s=n||document.body,r()}function i(n,t){$(s).find('[data-widget="'+t+'"]').each(function(t,o){var i=$(o);i.length&&!i.data("app-widget")?n.init?(n.init(i),i.data("app-widget",n)):i.data("app-widget",new n(i)):i.length&&i.data("app-widget")&&i.data("app-widget")&&i.data("app-widget").refresh&&i.data("app-widget").refresh()})}function e(n){n&&"object"!=typeof n?u[n]&&i(u[n],n):n&&"object"!=typeof n||r()}function r(){c("Factory : initWidgets");for(var n in u)u.hasOwnProperty(n)&&e(n)}function a(n){c("Factory : removeWidgets");$(n||s).find("[data-widget]").each(function(n,t){var o=$(t),i=o.data("app-widget");i&&i.dispose&&i.dispose()})}var s,c=o.log,u={};c("Factory : Constructor"),n.init=t,n.refresh=e,n.removeWidgets=a}(t.Factory||(t.Factory={}));t.Factory}),__extends=this.__extends||function(n,t){function o(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);o.prototype=t.prototype,n.prototype=new o},define("app",["require","exports","core/base","core/factory"],function(n,t,o,i){var e=function(n){function t(){n.call(this),this.log("App : Constructor")}return __extends(t,n),t.prototype.init=function(){this.log("App : init"),this.checkUserAgent(),this.Analytics.init(),this.Factory=i.Factory,this.Factory.init(),this.WindowController.init()},t.prototype.checkUserAgent=function(){var n,t=this.$html,o=this.$body,i=t.attr("data-ua")||"";(/MSIE/i.test(i)||/Trident\/[0-9\.]+/i.test(i)||window.hasOwnProperty("MSStream"))&&(t.addClass("ie"),/IEMobile/i.test(i)&&t.addClass("ie-mobile")),n=o.attr("data-debug")?"true"===o.attr("data-debug")?!0:!1:!1,n||(console.time=console.timeEnd=function(){}),"ontouchstart"in window&&t.addClass("is-touch")},t}(o.SiteObject);return e}),define("main",["require","exports","app"],function(n,t,o){var i=function(){function n(){var n=new o;n.init()}return n}();new i});